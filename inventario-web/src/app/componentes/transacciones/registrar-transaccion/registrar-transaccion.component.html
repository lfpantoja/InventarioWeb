<h2>Registrar transaccion</h2>

<form [formGroup]="form" (ngSubmit)="registrar()" class="form">
  <label>Producto
    <select formControlName="productoId">
      <option value="">Seleccione...</option>
      <option *ngFor="let p of productos" [value]="p.id">
        {{ p.nombre }} (Stock: {{ p.existencias }})
      </option>
    </select>
  </label>

  <label>Tipo
    <select formControlName="tipo">
      <option value="compra">Compra</option>
      <option value="venta">Venta</option>
    </select>
  </label>

  <label>Cantidad<input type="number" formControlName="cantidad" /></label>
  <label>Precio unitario<input type="number" step="0.01" formControlName="precioUnitario" /></label>
  <label>Detalle<input formControlName="detalle" /></label>

  <button type="submit" [disabled]="form.invalid">Registrar</button>
</form>